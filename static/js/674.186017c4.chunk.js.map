{"version":3,"file":"static/js/674.186017c4.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/pages/Container/Container.module.css?0e8f","pages/Container/Container.jsx","webpack://goit-react-hw-05-movies/./src/pages/HomePage/HomePage.module.css?5baa","pages/HomePage/HomePage.jsx","services/apiService.jsx","services/status.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Container_container__7LqQo\"};","import PropTypes from 'prop-types';\nimport styles from './Container.module.css';\n\nexport default function Container({ children }) {\n  return <div className={styles.container}>{children}</div>;\n}\n\nContainer.propTypes = {\n  children: PropTypes.node,\n};","// extracted by mini-css-extract-plugin\nexport default {\"main\":\"HomePage_main__OiWfi\",\"title\":\"HomePage_title__UFLA3\",\"moviesList\":\"HomePage_moviesList__8MbkQ\",\"moviesItem\":\"HomePage_moviesItem__RStzn\",\"poster\":\"HomePage_poster__+X7mT\",\"movieTitle\":\"HomePage_movieTitle__oMj7q\",\"link\":\"HomePage_link__-d+Of\"};","import { useState, useEffect } from 'react';\nimport Status from '../../services/status';\nimport { Link, useLocation } from 'react-router-dom';\nimport apiService from '../../services/apiService';\nimport Loader from '../../components/Loader/Loader';\nimport Error from '../../components/Loader/Loader';\nimport css from './HomePage.module.css';\nimport noPhoto from '../../images/No_image_available.jpg';\nimport ResponsivePagination from 'react-responsive-pagination';\nimport '../../services/pagination.css';\nimport Container from 'pages/Container/Container';\n\n\nexport default function HomePage() {\n\n  const [movies, setMovies] = useState(null);\n  const [totalPages, setTotalPages] = useState(0);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState(Status.IDLE);\n\n  const location = useLocation();\n  \n  \n\nuseEffect(() => {\n    setStatus(Status.PENDING);\n    apiService\n    .getTrendingMovies(currentPage)\n    .then(({ results, total_pages}) => {\n        setMovies(results);\n        setTotalPages(total_pages);\n        setStatus(Status.RESOLVED);\n    })\n    .catch(error => {\n        console.log(error);\n        setError('Something went wrong. Please try again later.');\n        setStatus(Status.REJECTED);\n    })\n}, [currentPage])\n\n\nfunction handlePageChange(page) {\n    setCurrentPage(page);\n  };\n\nreturn (\n  <Container>\n    <main className={css.main}>\n      <h1 className={css.title}>Trending today</h1>\n        {status === Status.PENDING && <Loader />}\n        {status === Status.REJECTED && <Error message={error.message} />}\n        {status === Status.RESOLVED && (\n          <div>\n            <ul className={css.moviesList}>\n              {movies.map(movie => (\n                <li key={movie.id} className={css.moviesItem}>\n                  <Link\n                    to={`movies/${movie.id}`} state={{ from: location }}\n                    className={css.link}\n                  >\n                    <img \n                      src={\n                        movie.poster_path\n                          ? `https://image.tmdb.org/t/p/w500/${movie.poster_path}`\n                          : noPhoto\n                          } \n                      alt={movie.title}\n                      className={css.poster}\n                    />\n                  </Link>\n                  <span className={css.movieTitle}>{movie.title}</span>\n                </li>\n              ))}\n            </ul>\n              {totalPages > 1 && (\n                <ResponsivePagination\n                  total={totalPages}\n                  onPageChange={(page) => handlePageChange(page)}\n                  current={currentPage}\n                  previousLabel=\"Previous\" \n                  nextLabel=\"Next\"\n                />\n              )}\n           </div>\n          )}\n    </main>\n  </Container>\n)\n}","import axios from \"axios\";\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '64838f78e32b0fdbe94ce78a1f5060cb';\n\naxios.defaults.baseURL = BASE_URL;\naxios.defaults.params = {\n    api_key: API_KEY,\n    language: 'en-US',\n}\n\nasync function getTrendingMovies(page) {\n    try {\n        const config = {\n            url: `trending/movie/day`,\n            params: {\n                page,\n            },\n        }\n        const { data } = await axios(config, page);\n        return data;\n    }\n    catch (error) {\n        console.log('error', { error });\n        return null;\n    }\n}\n\nasync function getMoviesByKeyWord(query, page) {\n    try {\n        const config = {\n            url: `search/movie`,\n            params: {\n                query,\n                page,\n            },\n        }\n        const { data } = await axios(config, query, page);\n        return data;\n    }\n    catch (error) {\n        console.log('error', {error});\n        return null;\n    }\n}\n\nasync function getMovieById(id) {\n    try {\n        const config = {\n            url: `movie/${id}`,\n        }\n        const { data } = await axios(config, id);\n        return data;\n    }\n    catch (error) {\n        console.log('error', { error });\n        return null;\n    }\n}\n\nasync function getCastInfo(id) {\n    try {\n       const config = {\n        url: `movie/${id}/credits`,\n       }\n       const { data } = await axios(config, id);\n       return data.cast;\n     }\n     catch (error) {\n        console.log('error', { error });\n        return null;\n     }\n}\n\nasync function getMovieReview(id) {\n    try {\n        const config = {\n            url: `movie/${id}/reviews`,\n        }\n        const { data } = await axios(config, id);\n        return data.results;\n    }\n    catch (error) {\n        console.log('error', { error });\n        return null;\n    }\n}\n\nconst apiService = {\n    getTrendingMovies,\n    getMoviesByKeyWord,\n    getMovieById,\n    getCastInfo,\n    getMovieReview,\n}\n\nexport default apiService;","const Status = {\n    IDLE: 'idle',\n    PENDING: 'pending',\n    RESOLVED: 'resolved',\n    REJECTED: 'rejected',\n}\n\nexport default Status;"],"names":["Container","children","className","styles","HomePage","useState","movies","setMovies","totalPages","setTotalPages","currentPage","setCurrentPage","error","setError","Status","status","setStatus","location","useLocation","useEffect","apiService","then","results","total_pages","catch","console","log","css","Loader","message","map","movie","to","id","state","from","src","poster_path","noPhoto","alt","title","total","onPageChange","page","handlePageChange","current","previousLabel","nextLabel","getTrendingMovies","config","url","params","axios","data","getMoviesByKeyWord","query","getMovieById","getCastInfo","cast","getMovieReview","api_key","language","IDLE","PENDING","RESOLVED","REJECTED"],"sourceRoot":""}